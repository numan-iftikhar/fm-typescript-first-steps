<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>TypeScript First Steps</title>

	<link rel="icon" href="https://www.typescriptlang.org/favicon-32x32.png?v=8944a05a8b601855de116c8a56d3b3ae" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reset.min.css"
		integrity="sha512-Mjxkx+r7O/OLQeKeIBCQ2yspG1P5muhAtv/J+p2/aPnSenciZWm5Wlnt+NOUNA4SHbnBIE/R2ic0ZBiCXdQNUg=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css"
		integrity="sha512-ITH3NSfntO7uI5n+BnxGNXpzDUoOsmAXuG37UDONLxNYIdc0EBBOOQ1xyc+t9ag9ETSuBXFApx+Rod0uURfDYw=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/night.min.css"
		integrity="sha512-bfCyfT+5Js2CKjpiF7yCtTcNlNTtcdAIHV8DfGLCQuTfTEHTU9uEvhQ/Ty4zv3IRtkFQu8DKeM2MHGka+K/cxA=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />

	<!-- Theme used for syntax highlighted code -->
	<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/night-owl.min.css" integrity="sha512-i5X6Fdn/ZqvGSqPrdMa3FgcpXM/Nr6YccSKFYT93zljl/HZDEpvBbE5Pxp91eiWGccZLrL/LDQJd7fjTRYsVaA==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/a11y-dark.min.css"
		integrity="sha512-Vj6gPCk8EZlqnoveEyuGyYaWZ1+jyjMPg8g4shwyyNlRQl6d3L9At02ZHQr5K6s5duZl/+YKMnM3/8pDhoUphg=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />

	<style>
		/* SLIDES (Reveal.js) */
		.reveal code {
			color:
				var(--r-link-color-hover);
		}

		.accent {
			color: var(--r-link-color);
		}
	</style>
	<style>
		/* ICONS (Iconify) */
		.mdi--arrow-right-bold {
			display: inline-block;
			--svg: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M4 15V9h8V4.16L19.84 12L12 19.84V15z'/%3E%3C/svg%3E");
			background-color: currentColor;
			-webkit-mask-image: var(--svg);
			mask-image: var(--svg);
			-webkit-mask-repeat: no-repeat;
			mask-repeat: no-repeat;
			-webkit-mask-size: 100% 100%;
			mask-size: 100% 100%;
		}
	</style>
</head>

<body>
	<div class="reveal">
		<div class="slides">

			<section data-markdown data-separator-vertical="\n--\n">
				<textarea data-template>

					## TS Syntax

					![TS word cloud](https://drive.google.com/thumbnail?id=1zR6c5CHYbt-Wj-X204q-ARetX0JyYxha&sz=w500)

					--

					### Goals

					- Migrate JS to TS
					- Meet new TS syntax & concepts
					- Specify types for variables & functions
					- Compose & customize types

					--

					### Ready?

					# Let's go!

					</textarea>
			</section>


			<section data-markdown data-separator-vertical="\n--\n">
				<textarea data-template>
				## Type Annotations 

				!['Type all the things!' meme a la Hyperbole and a Half](https://i.imgflip.com/a41m8j.jpg)

				--

				### Typed Variables

				```ts
				let n: number = 4;
				n = 5; // OK
				n = 'four'; // Error!
				```
				
				```ts
				let s: string = 'hello';
				s = 'hi'; // OK
				s = null; // Error!
				```

				--

				## Typing before assignment

				```ts
				let n: number;
				n = 42; // OK
				n = 'hello'; // Error!
				n = null; // Error!
				```

				--

				### Primitive types

				```ts
				let n: number = 1;
				let s: string = 'hi';
				let b: boolean = true;
				```

				```ts
				let missing: undefined = undefined;
				let nothing: null = null;
				```

				--


				### Literal types

				```ts
				let state: 'alive' | 'dead';
				state = 'alive'; // OK
				state = 'dead'; // OK
				state = 'thriving'; // Error!
				```

				--

				### Typed Functions

				```
				function add(a: number, b: number): number {
					return a + b;
				}

				add(140, 60); // 200
				add('oh', 'no'); // Error!
				```

				```ts
				const concat = (a: string, b: string): string => {
					return a + b;
				}
				
				concat('oh', 'yeah'); // 'ohyeah'
				concat(40, 4); // Error!
				```

				
				--

				### Typed Arrays

				```ts
				const digits: number[] = [1,2,3];
				digits.push(4); // OK
				digits.push('no go'); // Error!
				
				const letters: string[] = 'hello'.split();
				letters.push('!'); // OK
				letters.push(5); // Error!
				```

				--

				## Typed Objects

				```ts
				let user: {name: string, id: number}; 
				user = {name: 'Anjana', id: 1234};
				
				user.name = 'Nanjana'; // OK
				user.id = 4321; // OK
				
				user.name = null; // Error!
				user.id = '1234'; // Error!
				user.color = 'blue'; // Error!
				```
				
				--

				### Optional properties


				```ts
				let user: {
					id: number, 
					username: string, 
					fullname?: string,
				}; 

				user = {id: 1, username: 'anjana'}; // OK
				```

				```ts
				user = {
					id: 2, 
					username: 'nanjana',
					fullname: 'Not Anjana'
				}; // OK

				delete user.fullname; // OK

				user = {username: 'anjana'}; // Error!
				```

				--



				### Union types
				
				```ts
				let numberOrString: number | string; 
				numberOrString = 4;    // OK
				numberOrString = '4';  // OK
				numberOrString = null; // Error! 
				```

				```ts
				let nullishNumber: number | null;
				nullishNumber = 4;    // OK
				nullishNumber = '4';  // Error!
				nullishNumber = null; // OK
				```

				
				--

				### Type narrowing & type guards


				```ts
				let elemOrNull: HTMLElement | null;
				elemOrNull = document.getElementById('might-exist');

				elemOrNull.addEventListener('click', () => {
					console.log("will this work?");
				}); // Error!

				if (elemOrNull === null) {
					console.log("not found");
				} else {
					elemOrNull.addEventListener('click', () => {
						console.log("found");
					})
				}
				```


				</textarea>
			</section>

			<section data-markdown data-separator-vertical="\n--\n">
				<textarea data-template>
				## DIY: Custom types

				![Gif from Project Runway of Heidi Klum saying "One size does not fit all"](https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMGxyMTVqenc5MGNkazdjZTk5NjZuMTIydGh1NXlqcDI5MmNkcHNiMSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oEhmPtc6UW38RQeCA/giphy.webp)

				--

				### Type aliases 



				```ts
				type StringOrNumber = string | number;

				type LogLevel = 'log' | 'error' | 'warn';

				type User = {
					id: number,
					username: string,
					fullname?: string,
				};

				```


				</textarea>
			</section>

			<section data-markdown data-separator-vertical="\n--\n">
				<textarea data-template>
					## Our first <span class="accent">typed</span> script

					<div style="display: flex; justify-content: space-evenly; align-items: center;">
						<a title="Christopher Williams, Public domain, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:JavaScript-logo.png">
							<img width="256" alt="JavaScript-logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/JavaScript-logo.png/256px-JavaScript-logo.png?20120221235433"  style="border-radius: 20px;" />
						</a>
						<span 
							class="mdi--arrow-right-bold" 
							style="width: 128px; height: 128px;">
						</span>
						<a title="™/®Microsoft, Public domain, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Typescript_logo_2020.svg">
							<img width="256" alt="Typescript logo 2020" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Typescript_logo_2020.svg/256px-Typescript_logo_2020.svg.png?20221110153201" />
						</a>
						</div>

					--


					### Exercise time!
					
					[`2-annotations/exercise/README.md`](https://github.com/vakila/typescript-first-steps/tree/main/2-annotations/exercise)


					```zsh
					cd 2-annotations/exercise/
					```

					--


					### Step 1: Assess the situation

					```zsh
					node typeMe.js
					```

					Houston, we have some problems! 
					
					Time to fix them with TS!

					--



					### Step 2: Migrate to TS & install [`tsx`](https://tsx.is/)

					```zsh
					mv typeMe.js typeMe.ts
					```

					```zsh
					npm i -g tsx
					```


					```zsh
					tsx typeMe.ts
					```

					```zsh
					tsx --watch typeMe.ts
					```

					--



					### Step 2: Add type annotations


					- variables
					- function parameters
					- function return types

					Create new types with `type` aliases as needed.

					--

					Syntax example: 

					```ts
					type ManyNumbers = number[];

					const myNumbers: ManyNumbers = [1,2,3,4];

					function sum(numbers: ManyNumbers): number {
						if (numbers.length === 0) {
							return 0;
						} else {
							return numbers[0] + sum(numbers[1:]);
						}
					}

					sum(myNumbers);
					```

					--



					### Step 3: Fix the code!

					Make sure functions are returning the correct types of data, and fix any other problems you find!

					--

					### Step 4: Check & compile

					`tsx` is designed to help us run TS code quickly...

					...so it <span class="accent">doesn't</span> type check like `tsc`!

					--

					![Gif of Invader Zim shouting 'YOU LIE!'](https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExbTEyZm5lb2FlM2VkNTMzMjFuOXNrM29sZ3h5amVjanI2M2twNDVsZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/mvfjpubTc8hP2/giphy.gif)


					--

					Make sure the `.ts` code checks out with `tsc`:
					
					```zsh
					tsc --strict typeMe.ts
					```

					What happens?



				</textarea>
			</section>



		</div>
	</div>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"
		integrity="sha512-131e3mIrDAyUD075SVzvIjS0g97uDg0+/qAobDHd++h+lgFi4z88DVOpidm06jpb+0PzK4kcm9w79r6EHV0SkA=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/notes/notes.min.js"
		integrity="sha512-nLsCkPS/rdxRVOkxiKnld9KhQ24V/5kRChzSZ3MoFODykbWyBlQRsHLrbpN3J4LabYBnXIp1EnRIo3ifvyiQIg=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/markdown/markdown.min.js"
		integrity="sha512-QAU7Ux8iEB53koLKFCtddfFp0D1+uQWoX3ROnRDLeiE98XHOkMciaup0Spc014jQAuJaqz8VjUZdBqriheI4Lg=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js"
		integrity="sha512-U3fPDUX5bMrn1wnYqjaK44MFA9E6MKS+zPAg9WPAGF5XhReBeDj3FGaA831CjueG+YJxYA3WaO/m33kMIoOs/A=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>

	<!-- CopyCode plugin for copy button on code samples -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/reveal.js-copycode@1.0.4/plugin/copycode/copycode.js"></script>

	<script>
		// Slides powered by revealjs.com

		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes, CopyCode]
		});

	</script>

</body>

</html>